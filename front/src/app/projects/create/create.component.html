<main>
  <h1>Ajouter un chantier</h1>
  <form [formGroup]="f" (ngSubmit)="submit()">
    <label>
      <div>Code</div>
      <input type="text" formControlName="code" appAutofocus />
    </label>
    <label>
      <div>Libellé</div>
      <input type="text" formControlName="label" />
    </label>
    <label>
      <div>Statut</div>
      <input type="text" formControlName="status" />
    </label>
    <button type="button" (click)="addKeywords()">Ajouter keywords</button>
    <div class="keywords" formArrayName="keywords">
      <div
        *ngFor="let k of keywords.controls; let i = index"
        [formGroupName]="i"
      >
        <input type="text" formControlName="key" />
        <input type="text" formControlName="value" />
      </div>
    </div>
    <button type="submit" [disabled]="f.invalid" class="primary">Créer</button>
    <button type="button" (click)="reset()">Annuler</button>
    {{ f.value | json }}
  </form>
</main>
